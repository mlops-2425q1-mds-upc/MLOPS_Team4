schema: '2.0'
stages:
  preprocess:
    cmd: python Sentiment_Analysis/preprocess.py data/raw/training.1600000.processed.noemoticon.csv
    deps:
    - path: Sentiment_Analysis/preprocess.py
      hash: md5
      md5: 4c5eef5e7ca2739a24c65ac117f1ed23
      size: 3967
    - path: data/raw
      hash: md5
      md5: 46fff1b01b5e5d7b71ebe19a9655cc6f.dir
      size: 238803811
      nfiles: 1
    params:
      params.yaml:
        preprocessing.lemmarize: false
  split:
    cmd: python Sentiment_Analysis/split.py data/interim/clean_dataset.csv
    deps:
    - path: Sentiment_Analysis/split.py
      hash: md5
      md5: 55ebea0ef5c860c20fd53d62662b9e23
      size: 1231
    - path: data/interim
      hash: md5
      md5: ab7fa577fa56de280fa824f4093ea423.dir
      size: 136432325
      nfiles: 7
    params:
      params.yaml:
        split.random_state: 1234
        split.test_size: 0.3
        split.train_size: 0.7
        split.val_size: 0.3
  clean:
    cmd: python Sentiment_Analysis/clean.py data/raw/training.1600000.processed.noemoticon.csv
    deps:
    - path: Sentiment_Analysis/clean.py
      hash: md5
      md5: 3c0c26bb81c13e9c94f7dee860822fb5
      size: 4762
    - path: data/raw
      hash: md5
      md5: f7b1f52042d780f7d63cb650580aaab2.dir
      size: 238809959
      nfiles: 2
    params:
      params.yaml:
        clean.lemmarize: false
        clean.steam: true
    outs:
    - path: data/interim/clean_dataset.csv
      hash: md5
      md5: 667928d1b8e743ffb619d25840ec2382
      size: 67408285
  encode_data:
    cmd: python Sentiment_Analysis/generate_encoded_datasets.py
    deps:
    - path: Sentiment_Analysis/generate_encoded_datasets.py
      hash: md5
      md5: fd415fc9c0af958ffaeecaaf5573eab0
      size: 2511
    - path: data/interim
      hash: md5
      md5: 3ff9f8a79a7996ed8362db3f00a924f0.dir
      size: 134832324
      nfiles: 7
    params:
      params.yaml:
        generate-encoded-datasets.padding: true
        generate-encoded-datasets.random_state: 0
        generate-encoded-datasets.test_size: 0.2
        generate-encoded-datasets.truncation: true
  data_preprocessing:
    cmd: python Sentiment_Analysis/data_preprocessing.py
    deps:
    - path: Sentiment_Analysis/data_preprocessing.py
      hash: md5
      md5: a4aa5eb145c155e9d7208144c4202068
      size: 5470
    - path: data/raw/training.1600000.processed.noemoticon.csv
      hash: md5
      md5: df952449d6f9b5f9fdfe3fc53ddef7ca
      size: 238803811
    - path: params.yaml
      hash: md5
      md5: f41d64a1791ca8c94409fe9e2872fb83
      size: 356
    params:
      params.yaml:
        data_preprocessing.track_emissions: true
        lstm_train.max_len: 80
        lstm_train.max_vocab_size: 10000
    outs:
    - path: data/processed/X_y_data_lstm.npz
      hash: md5
      md5: 0243b2ab3ec65a3b9a63ff49d88bf255
      size: 524800490
    - path: data/processed/cleaned_data.csv
      hash: md5
      md5: 3523f2a72ed79f9fb382bad01b24bcc9
      size: 190412729
    - path: data/processed/tokenizer.pickle
      hash: md5
      md5: 9c69197182bb65e98b0d444a7d6f9cf1
      size: 17179075
  train_lstm_model:
    cmd: python Sentiment_Analysis/lstm_training.py
    deps:
    - path: Sentiment_Analysis/lstm_training.py
      hash: md5
      md5: 38e1373d2ee601e6b9485eeedb3ccce0
      size: 10549
    - path: data/processed/X_y_data_lstm.npz
      hash: md5
      md5: 12176f49eefc3c9fd00fc830055f68f6
      size: 522221426
    - path: data/processed/tokenizer.pickle
      hash: md5
      md5: f85c986e0093b0213e102ad8ab193a93
      size: 12136649
    - path: params.yaml
      hash: md5
      md5: 364fb6d831b3820c7d3d0a930ebd9d42
      size: 409
    params:
      params.yaml:
        lstm_train:
          max_vocab_size: 10000
          max_len: 80
          embedding_dim: 64
          lstm_units: 32
          batch_size: 256
          num_epochs: 50
          learning_rate: 0.001
          model_name: optimized_lstm_model
          random_state: 42
          test_size: 0.3
    outs:
    - path: reports/lstm_model/metrics
      hash: md5
      md5: c993719e6ea4907be8b44a44e092e4b0.dir
      size: 115
      nfiles: 1
    - path: reports/lstm_model/models
      hash: md5
      md5: 7964c183c90b63f829adcecd6b54cf89.dir
      size: 15763992
      nfiles: 2
    - path: reports/lstm_model/plots
      hash: md5
      md5: 19d02bf9320d23dd6dcaee0e0fcdbc40.dir
      size: 84630
      nfiles: 3
    - path: reports/lstm_model/reports
      hash: md5
      md5: 547451a1bddb353583ce9727414876b3.dir
      size: 360
      nfiles: 1
